# Auto Search ê¸°ëŠ¥ ìƒì„¸ ë¶„ì„

## ê°œìš”

Auto SearchëŠ” íƒœìŠ¤í¬ ì‹¤í–‰ ì „ì— ê´€ë ¨ëœ ê¸°ì¡´ ì§€ì‹ê³¼ ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ì— ì£¼ì…í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

## í•µì‹¬ ê¸°ëŠ¥

### 1. ìë™ ì§€ì‹ ë°œê²¬ (Auto-Discovery)

íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì—:
1. íƒœìŠ¤í¬ì˜ ì œëª©ê³¼ ì„¤ëª…ì—ì„œ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œ
2. **ëª¨ë“  ì„¸ì…˜**ì˜ ê²€ìƒ‰ ì¸ë±ìŠ¤ì—ì„œ ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰
3. ê´€ë ¨ë„ê°€ ë†’ì€ ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ì— ì¶”ê°€

### 2. í‚¤ì›Œë“œ ì¶”ì¶œ ì•Œê³ ë¦¬ì¦˜

**êµ¬í˜„ ìœ„ì¹˜**: `src/orchestrator.rs:1476-1503`

**ì²˜ë¦¬ ê³¼ì •**:
```rust
// 1. ì œëª©ê³¼ ì„¤ëª… ê²°í•©
let text = format!("{} {}", subject, description);

// 2. í† í°í™”: ì•ŒíŒŒë²³, ìˆ«ì, -, _ ë§Œ ìœ ì§€
.split(|c: char| !c.is_alphanumeric() && c != '-' && c != '_')

// 3. ì†Œë¬¸ì ë³€í™˜
.map(|s| s.trim().to_lowercase())

// 4. í•„í„°ë§
.filter(|s| s.len() >= 2 && !stop_words.contains(&s.as_str()))

// 5. ì¤‘ë³µ ì œê±°
.collect::<HashSet<_>>()

// 6. ìµœëŒ€ 10ê°œë¡œ ì œí•œ
.take(10)
```

**ë¶ˆìš©ì–´ (Stop Words)**:
- ì˜ë¬¸: "the", "a", "an", "is", "are", "was", "were", "have", "do", "will", "would", etc.
- í•œê¸€: "ë¥¼", "ì„", "ì´", "ê°€", "ì€", "ëŠ”", "ì—", "ì˜", "ë¡œ", etc.

### 3. í¬ë¡œìŠ¤-ì„¸ì…˜ ê²€ìƒ‰ (Cross-Session Search)

**ì¤‘ìš” íŠ¹ì§•**: Auto SearchëŠ” **í˜„ì¬ ì„¸ì…˜ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ë“  ì„¸ì…˜**ì—ì„œ ê²€ìƒ‰í•©ë‹ˆë‹¤!

**êµ¬í˜„ ìœ„ì¹˜**: `src/orchestrator.rs:1506-1563`

```rust
// ëª¨ë“  ì„¸ì…˜ ì¡°íšŒ
let sessions = self.session_mgr.list_sessions()?;

for session_summary in &sessions {
    let session_dir = self.session_mgr.session_dir(&session_summary.id);
    let search_index_path = session_dir.join("search_index");

    // ê° ì„¸ì…˜ì˜ ê²€ìƒ‰ ì¸ë±ìŠ¤ì—ì„œ ê²€ìƒ‰
    let session_search = SearchEngine::keyword_reader_only(&search_index_path)?;
    let results = session_search.search(&query, &options).await?;

    // ì„¸ì…˜ ì •ë³´ë¥¼ ì œëª©ì— ì¶”ê°€
    result.title = format!("[{}] {}", session_id, result.title);
}

// ëª¨ë“  ê²°ê³¼ë¥¼ ì ìˆ˜ìˆœìœ¼ë¡œ ì •ë ¬
all_results.sort_by(|a, b| b.score.partial_cmp(&a.score));
```

**ì´ì **:
- ê³¼ê±° ì„¸ì…˜ì˜ ì§€ì‹ ì¬í™œìš©
- ìœ ì‚¬í•œ ì‘ì—…ì— ëŒ€í•œ í•™ìŠµ íš¨ê³¼
- ì»¨í…ìŠ¤íŠ¸ ì¶•ì  ë° ê°œì„ 

### 4. ê²€ìƒ‰ ê²°ê³¼ í¬ë§·íŒ…

**ì¶œë ¥ í˜•ì‹**:
```markdown
## ğŸ“š Auto-Discovered Knowledge

ì•„ë˜ëŠ” ì´ íƒœìŠ¤í¬ì™€ ê´€ë ¨ëœ ê¸°ì¡´ ì§€ì‹ì…ë‹ˆë‹¤. ì°¸ê³ í•˜ì—¬ ì‘ì—…í•˜ì„¸ìš”.

---

### [KNOWLEDGE] [session-id] ë¬¸ì„œ ì œëª©
> ë¬¸ì„œ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸° (ìµœëŒ€ 500ì)...
> **ê´€ë ¨ë„: 86%**

---

ê²€ìƒ‰ì–´: "auto", "search", "ê¸°ëŠ¥"
```

### 5. í†µí•© ì§€ì 

**Orchestrator::execute_task()** ë©”ì„œë“œì—ì„œ ì‹¤í–‰:

```rust
// orchestrator.rs:452-466
if self.config.auto_search_enabled {
    match self.auto_search_for_task(&task).await {
        Ok(auto_knowledge) if !auto_knowledge.is_empty() => {
            // ì»¨í…ìŠ¤íŠ¸ì˜ ë§¨ ì•ì— ì‚½ì… (ê°€ì¥ ë¨¼ì € í‘œì‹œ)
            context_parts.insert(0, auto_knowledge);
        }
        Err(e) => {
            tracing::warn!("Auto-search failed: {}", e);
        }
        _ => {}
    }
}
```

## ì„¤ì • ì˜µì…˜

### OrchestratorConfig

```rust
pub struct OrchestratorConfig {
    /// Auto-search í™œì„±í™” ì—¬ë¶€
    pub auto_search_enabled: bool,        // ê¸°ë³¸ê°’: true

    /// ìµœëŒ€ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜
    pub auto_search_max_results: usize,   // ê¸°ë³¸ê°’: 5

    /// ìµœì†Œ ê´€ë ¨ë„ ì ìˆ˜ (0.0 ~ 1.0)
    pub auto_search_min_score: f32,       // ê¸°ë³¸ê°’: 0.3
}
```

### ê¸°ë³¸ ì„¤ì •

```rust
impl Default for OrchestratorConfig {
    fn default() -> Self {
        Self {
            auto_search_enabled: true,        // âœ… ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”!
            auto_search_max_results: 5,       // ìƒìœ„ 5ê°œ ê²°ê³¼
            auto_search_min_score: 0.3,       // 30% ì´ìƒ ê´€ë ¨ë„
            // ...
        }
    }
}
```

### ì»¤ìŠ¤í…€ ì„¤ì • ì˜ˆì‹œ

```rust
// ê³ ì •ë°€ë„ ëª¨ë“œ (ë†’ì€ í’ˆì§ˆ, ì ì€ ê²°ê³¼)
let config = OrchestratorConfig {
    auto_search_enabled: true,
    auto_search_max_results: 3,     // ìƒìœ„ 3ê°œë§Œ
    auto_search_min_score: 0.5,     // 50% ì´ìƒë§Œ
    ..Default::default()
};

// ê³ íšŒìƒ ëª¨ë“œ (ë‚®ì€ ì„ê³„ê°’, ë§ì€ ê²°ê³¼)
let config = OrchestratorConfig {
    auto_search_enabled: true,
    auto_search_max_results: 10,    // ìƒìœ„ 10ê°œ
    auto_search_min_score: 0.1,     // 10% ì´ìƒë„ í¬í•¨
    ..Default::default()
};

// ë¹„í™œì„±í™”
let config = OrchestratorConfig {
    auto_search_enabled: false,
    ..Default::default()
};
```

## ê²€ìƒ‰ ëŒ€ìƒ ë¬¸ì„œ íƒ€ì…

Auto SearchëŠ” ë‹¤ìŒ íƒ€ì…ì˜ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤:

1. **Task** (íƒœìŠ¤í¬ ì •ì˜)
   - ê³¼ê±°ì— ì‹¤í–‰ëœ ìœ ì‚¬í•œ íƒœìŠ¤í¬

2. **TaskResult** (íƒœìŠ¤í¬ ê²°ê³¼)
   - ê³¼ê±° ì‘ì—…ì˜ ê²°ê³¼ë¬¼

3. **Knowledge** (ì§€ì‹ ë¬¸ì„œ)
   - ëª…ì‹œì ìœ¼ë¡œ ì €ì¥ëœ ì§€ì‹

4. **Context** (ì»¨í…ìŠ¤íŠ¸ ë¬¸ì„œ)
   - íƒœìŠ¤í¬ ì‹¤í–‰ ì¤‘ ì¶”ê°€ëœ ì»¨í…ìŠ¤íŠ¸

## ê²€ìƒ‰ ì—”ì§„

### ì‚¬ìš© ê¸°ìˆ 
- **BM25 ë­í‚¹ ì•Œê³ ë¦¬ì¦˜**: í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰
- **Tantivy**: Rustìš© ì „ë¬¸ ê²€ìƒ‰ ì—”ì§„
- **Lindera**: í•œê¸€ í˜•íƒœì†Œ ë¶„ì„

### ì¸ë±ì‹± ì‹œì 

ë¬¸ì„œëŠ” ë‹¤ìŒ ì‹œì ì— ìë™ìœ¼ë¡œ ì¸ë±ì‹±ë©ë‹ˆë‹¤:

```rust
// 1. íƒœìŠ¤í¬ ìƒì„± ì‹œ
if let Some(ref mut search) = self.search {
    search.index_task(
        &task_id,
        &subject,
        &description,
        session_id,
    ).await?;
}

// 2. íƒœìŠ¤í¬ ê²°ê³¼ ì €ì¥ ì‹œ
if let Some(ref mut search) = self.search {
    search.index_task_result(
        task_id,
        &output.response,
        session_id,
    ).await?;
}

// 3. ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€ ì‹œ
if let Some(ref mut search) = self.search {
    search.index_context(
        &doc_id,
        &title,
        &content,
        session_id,
        Some(task_id),
    ).await?;
}

// 4. ì§€ì‹ ë¬¸ì„œ ì €ì¥ ì‹œ
if let Some(ref mut search) = self.search {
    search.index_knowledge(
        &knowledge_id,
        &title,
        &content,
        session_id,
    ).await?;
}
```

## ì‹¤í–‰ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Task ì‹¤í–‰ ìš”ì²­                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Auto Search í™œì„±í™” í™•ì¸              â”‚
â”‚     (config.auto_search_enabled?)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ Yes
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. í‚¤ì›Œë“œ ì¶”ì¶œ                          â”‚
â”‚     - Task subject + description        â”‚
â”‚     - ë¶ˆìš©ì–´ ì œê±°                        â”‚
â”‚     - ìµœëŒ€ 10ê°œ í‚¤ì›Œë“œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. í¬ë¡œìŠ¤-ì„¸ì…˜ ê²€ìƒ‰                     â”‚
â”‚     FOR EACH session:                   â”‚
â”‚       - ê²€ìƒ‰ ì¸ë±ìŠ¤ ì—´ê¸°                 â”‚
â”‚       - í‚¤ì›Œë“œë¡œ ê²€ìƒ‰                    â”‚
â”‚       - ê²°ê³¼ ìˆ˜ì§‘                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ê²°ê³¼ ì •ë ¬ ë° í•„í„°ë§                  â”‚
â”‚     - ì ìˆ˜ìˆœ ì •ë ¬                        â”‚
â”‚     - ìƒìœ„ Nê°œ ì„ íƒ                      â”‚
â”‚     - ìµœì†Œ ì ìˆ˜ ì„ê³„ê°’ ì ìš©              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. ì»¨í…ìŠ¤íŠ¸ í¬ë§·íŒ…                      â”‚
â”‚     - ë§ˆí¬ë‹¤ìš´ í˜•ì‹                      â”‚
â”‚     - ì„¸ì…˜ ì •ë³´ í‘œì‹œ                     â”‚
â”‚     - ê´€ë ¨ë„ í‘œì‹œ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. ì»¨í…ìŠ¤íŠ¸ ì¡°í•©                        â”‚
â”‚     context_parts.insert(0, auto_knowledge)â”‚
â”‚     = [Auto-knowledge] + [Tree] + [Deps]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8. LLM ì‹¤í–‰                             â”‚
â”‚     - í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ë¡œ ì‹¤í–‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì„±ëŠ¥ ì§€í‘œ (í…ŒìŠ¤íŠ¸ ê²°ê³¼)

### ê²€ìƒ‰ ì •í™•ë„
- **ì˜ë¬¸ ì¿¼ë¦¬**: 98% (0.98) - ë§¤ìš° ìš°ìˆ˜!
- **í•œê¸€ ì¿¼ë¦¬**: 86% (0.86) - ìš°ìˆ˜!
- **í˜¼í•© ì¿¼ë¦¬**: 70-82% - ì–‘í˜¸

### ì‹¤í–‰ ì†ë„
- **ì „ì²´ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸**: 7.58ì´ˆ (9ê°œ í…ŒìŠ¤íŠ¸)
- **í‰ê·  ê²€ìƒ‰ ì‹œê°„**: < 1ì´ˆ (ë‹¨ì¼ ì¿¼ë¦¬)

### í‚¤ì›Œë“œ ì¶”ì¶œ
- **í•œê¸€/ì˜ë¬¸ í˜¼í•©**: 9ê°œ í‚¤ì›Œë“œ ì¶”ì¶œ
- **ì •í™•ë„**: 100% (ì˜ë¯¸ ìˆëŠ” í‚¤ì›Œë“œë§Œ ì¶”ì¶œ)

## ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ê¸°ë³¸ ì‚¬ìš©

```rust
let mut orchestrator = Orchestrator::new(working_dir, data_dir)?;

// Auto SearchëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë¨
let task_ids = orchestrator.plan("ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€").await?;
let result = orchestrator.execute_task(&task_ids[0]).await?;

// íƒœìŠ¤í¬ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ:
// 1. "ìƒˆë¡œìš´", "api", "ì—”ë“œí¬ì¸íŠ¸", "ì¶”ê°€" í‚¤ì›Œë“œ ì¶”ì¶œ
// 2. ëª¨ë“  ì„¸ì…˜ì—ì„œ ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰
// 3. ê³¼ê±° API ì‘ì—… ê²°ê³¼ë¥¼ ì»¨í…ìŠ¤íŠ¸ì— ì£¼ì…
```

### ì˜ˆì‹œ 2: ì»¤ìŠ¤í…€ ì„¤ì •

```rust
let config = OrchestratorConfig {
    auto_search_enabled: true,
    auto_search_max_results: 3,
    auto_search_min_score: 0.6,  // ë†’ì€ ì •í™•ë„ ìš”êµ¬
    ..Default::default()
};

let orchestrator = Orchestrator::new(working_dir, data_dir)?
    .with_config(config);
```

### ì˜ˆì‹œ 3: ë¹„í™œì„±í™”

```rust
let config = OrchestratorConfig {
    auto_search_enabled: false,
    ..Default::default()
};

let orchestrator = Orchestrator::new(working_dir, data_dir)?
    .with_config(config);
```

## ì¥ì 

### 1. ì§€ì‹ ì¬í™œìš©
- ê³¼ê±° ì‘ì—…ì˜ í•™ìŠµ íš¨ê³¼
- ì¤‘ë³µ ì‘ì—… ê°ì†Œ
- ì¼ê´€ëœ íŒ¨í„´ ìœ ì§€

### 2. ì»¨í…ìŠ¤íŠ¸ í’ë¶€í™”
- ê´€ë ¨ ì •ë³´ ìë™ ì œê³µ
- LLMì˜ ë” ë‚˜ì€ ê²°ì •
- ì—ëŸ¬ ê°ì†Œ

### 3. í¬ë¡œìŠ¤-ì„¸ì…˜ í•™ìŠµ
- ì„¸ì…˜ ê°„ ì§€ì‹ ê³µìœ 
- ì¶•ì ëœ ê²½í—˜ í™œìš©
- ì§€ì†ì ì¸ ê°œì„ 

### 4. ìë™í™”
- ìˆ˜ë™ ê²€ìƒ‰ ë¶ˆí•„ìš”
- ê´€ë ¨ ë¬¸ì„œ ìë™ ë°œê²¬
- ìƒì‚°ì„± í–¥ìƒ

## ì œí•œì‚¬í•­ ë° ê³ ë ¤ì‚¬í•­

### 1. í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰
- í˜„ì¬ëŠ” BM25 í‚¤ì›Œë“œ ê²€ìƒ‰ë§Œ ì§€ì›
- ì˜ë¯¸ë¡ ì (semantic) ê²€ìƒ‰ì€ ë¯¸ì§€ì›
- í–¥í›„ Vector Search ì¶”ê°€ ê°€ëŠ¥ì„±

### 2. ê²€ìƒ‰ ë²”ìœ„
- ëª¨ë“  ì„¸ì…˜ì„ ê²€ìƒ‰í•˜ë¯€ë¡œ ì„¸ì…˜ì´ ë§ì„ìˆ˜ë¡ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ
- í•„ìš”ì‹œ ì„¸ì…˜ í•„í„°ë§ ì˜µì…˜ ì¶”ê°€ ê³ ë ¤

### 3. ê²°ê³¼ ìˆ˜ ì œí•œ
- ê¸°ë³¸ 5ê°œë¡œ ì œí•œ
- ë„ˆë¬´ ë§ì€ ì»¨í…ìŠ¤íŠ¸ëŠ” LLM ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥
- ì„¤ì •ìœ¼ë¡œ ì¡°ì ˆ ê°€ëŠ¥

### 4. ì–¸ì–´ ì§€ì›
- ì˜ë¬¸ê³¼ í•œê¸€ì€ ì˜ ì§€ì›
- ë‹¤ë¥¸ ì–¸ì–´ëŠ” í…ŒìŠ¤íŠ¸ í•„ìš”

## í–¥í›„ ê°œì„  ë°©í–¥

### 1. Vector Search í†µí•©
```rust
// Hybrid search: Keyword + Vector
let keyword_results = search.keyword_search(&query, &options).await?;
let vector_results = search.vector_search(&query, &options).await?;
let merged = merge_results(keyword_results, vector_results);
```

### 2. ì„¸ì…˜ í•„í„°ë§
```rust
pub struct SearchOptions {
    pub session_filter: Option<Vec<String>>,  // íŠ¹ì • ì„¸ì…˜ë§Œ ê²€ìƒ‰
    pub exclude_sessions: Option<Vec<String>>, // íŠ¹ì • ì„¸ì…˜ ì œì™¸
    // ...
}
```

### 3. ìºì‹±
```rust
// ìì£¼ ì‚¬ìš©ë˜ëŠ” ê²€ìƒ‰ ê²°ê³¼ ìºì‹±
let cache_key = format!("{}-{}", task.subject, task.description);
if let Some(cached) = search_cache.get(&cache_key) {
    return Ok(cached);
}
```

### 4. ì‚¬ìš©ì í”¼ë“œë°±
```rust
// ê²€ìƒ‰ ê²°ê³¼ ìœ ìš©ì„± í”¼ë“œë°±
search.rate_result(result_id, useful: bool).await?;
// í”¼ë“œë°± ê¸°ë°˜ ë­í‚¹ ì¡°ì •
```

## í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ íŒŒì¼: `tests/auto_search_test.rs`

**9ê°œ í†µí•© í…ŒìŠ¤íŠ¸ ì „ë¶€ í†µê³¼**:
1. âœ… ê¸°ë³¸ ì„¤ì • í…ŒìŠ¤íŠ¸
2. âœ… ë¹„í™œì„±í™” í…ŒìŠ¤íŠ¸
3. âœ… ì„¤ì • ë³€í˜• í…ŒìŠ¤íŠ¸
4. âœ… í‚¤ì›Œë“œ ì¶”ì¶œ í…ŒìŠ¤íŠ¸
5. âœ… ê²€ìƒ‰ ì—”ì§„ ì´ˆê¸°í™”
6. âœ… í•œê¸€ ì½˜í…ì¸  ê²€ìƒ‰
7. âœ… í†µí•© ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
8. âœ… ì™„ì „í•œ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
9. âœ… ë¬¸ì„œ ì¹´ìš´íŠ¸ í…ŒìŠ¤íŠ¸

## ê²°ë¡ 

Auto SearchëŠ” Ouroborosì˜ í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œ:
- âœ… **ìë™ìœ¼ë¡œ ê´€ë ¨ ì§€ì‹ì„ ë°œê²¬**
- âœ… **í¬ë¡œìŠ¤-ì„¸ì…˜ í•™ìŠµ ì§€ì›**
- âœ… **ë†’ì€ ê²€ìƒ‰ ì •í™•ë„** (86-98%)
- âœ… **í•œê¸€/ì˜ë¬¸ ì™„ë²½ ì§€ì›**
- âœ… **ì„¤ì • ê°€ëŠ¥í•œ ì˜µì…˜**
- âœ… **ì›í™œí•œ Orchestrator í†µí•©**

ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆìœ¼ë©°, ì‹¤ì œ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!
